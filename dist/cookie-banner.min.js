!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,n);void 0!==t&&(module.exports=t)}else if("function"==typeof define&&define.amd)define(["require","exports"],e);else{var n={};e(function(){},n),"undefined"!=typeof window&&(window.createCookieBanner=n.createCookieBanner,window.setup=n.setup,window.CookieBannerModule=n,(void 0!==window.CookieBannerConfig||document.currentScript&&!document.currentScript.hasAttribute("type"))&&n.setup())}}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CSS=t.DEFAULT_CATEGORIES=void 0,t.sanitizeCss=p,t.sanitizeUrl=f,t.sanitizeInlineStyle=b,t.validateConfig=m,t.isEU=k,t.getConsent=g,t.setConsent=h,t.deleteConsent=y,t.parseGranularConsent=v,t.encodeGranularConsent=x,t.injectStyles=function(e,t,n){if(!l||document.getElementById(e))return;const o=document.createElement("style");o.id=e,n&&o.setAttribute("nonce",n);o.textContent=t,document.head.appendChild(o)},t._resetSingleton=function(){E=null},t.createCookieBanner=C,t.setup=S,t.DEFAULT_CATEGORIES=[{id:"essential",name:"Essential",description:"Required for the website to function",required:!0},{id:"analytics",name:"Analytics",description:"Help us understand how visitors use our site"},{id:"marketing",name:"Marketing",description:"Used to deliver relevant ads"},{id:"functional",name:"Functional",description:"Enable enhanced features and personalization"}];const n=[-1,0,1,2,3],o=3650,i=3e5,r=365,c=5e3,s=/^[a-zA-Z0-9_-]+$/,a=/^\.?[a-zA-Z0-9][a-zA-Z0-9-]*(\.[a-zA-Z0-9][a-zA-Z0-9-]*)*$/;t.DEFAULT_CSS="#ckb{position:var(--ckb-position,fixed);bottom:var(--ckb-bottom,0);top:var(--ckb-top,auto);left:var(--ckb-left,0);right:var(--ckb-right,0);padding:var(--ckb-padding,12px 16px);background:var(--ckb-bg,#222);color:var(--ckb-color,#fff);font:var(--ckb-font,14px/1.4 system-ui,sans-serif);display:flex;align-items:center;gap:var(--ckb-gap,12px);z-index:var(--ckb-z,9999);flex-wrap:wrap}#ckb:focus{outline:2px solid var(--ckb-focus-color,#4299e1);outline-offset:2px}#ckb p{margin:0;flex:1;min-width:200px}#ckb a{color:inherit}#ckb button{min-height:44px;min-width:44px;padding:var(--ckb-btn-padding,10px 20px);border:var(--ckb-btn-border,none);border-radius:var(--ckb-btn-radius,4px);background:var(--ckb-btn-bg,#fff);color:var(--ckb-btn-color,#222);font:inherit;cursor:pointer;touch-action:manipulation}#ckb button:focus{outline:2px solid var(--ckb-focus-color,#4299e1);outline-offset:2px}#ckb button:hover{opacity:0.9}#ckb #ckn{background:var(--ckb-reject-bg,transparent);color:var(--ckb-reject-color,inherit);border:var(--ckb-reject-border,1px solid currentColor)}#ckb #cks{background:var(--ckb-settings-bg,transparent);color:var(--ckb-settings-color,inherit);border:var(--ckb-settings-border,1px solid currentColor)}#ckb-cats{display:none;width:100%;padding:12px 0;border-top:1px solid rgba(255,255,255,0.2);margin-top:8px}#ckb.expanded #ckb-cats{display:block}#ckb-cats label{display:flex;align-items:flex-start;gap:10px;padding:8px 0;cursor:pointer}#ckb-cats input[type=checkbox]{width:20px;height:20px;margin:2px 0;accent-color:var(--ckb-btn-bg,#fff)}#ckb-cats .cat-info{flex:1}#ckb-cats .cat-name{font-weight:600}#ckb-cats .cat-desc{font-size:12px;opacity:0.8;margin-top:2px}#ckb-cats .cat-req{opacity:0.6;font-size:11px}@media(prefers-reduced-motion:reduce){#ckb,#ckb *{transition:none!important;animation:none!important}}";const l="undefined"!=typeof window&&"undefined"!=typeof document,d="cookie-banner-element";class u extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"open"})}get shadowRoot(){return this._shadow}}function p(e){if(!e)return"";e.length>5e4&&(e=e.slice(0,5e4));let t=e;return t=function(e){return e.replace(/\\([0-9a-fA-F]{1,6})\s?/g,(e,t)=>{const n=parseInt(t,16);return 0===n||n>1114111?"":String.fromCodePoint(n)})}(t),t=t.replace(/<[^>]*>/g,""),t=t.replace(/@\s*i\s*m\s*p\s*o\s*r\s*t\b[^;]*(;|$)/gi,""),t=t.replace(/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\([^)]*\)/gi,""),t=t.replace(/behavior\s*:[^;]*(;|$)/gi,""),t=t.replace(/-moz-binding\s*:[^;]*(;|$)/gi,""),t=t.replace(/url\s*\(\s*(['"]?)([^'")\s]+)\1\s*\)/gi,(e,t,n)=>{const o=n.trim().toLowerCase();return o.includes("svg")?"":o.startsWith("data:image/png")||o.startsWith("data:image/jpeg")||o.startsWith("data:image/jpg")||o.startsWith("data:image/gif")||o.startsWith("data:image/webp")?e:""}),t=t.replace(/javascript\s*:/gi,""),t}function f(e){if(!e)return"";const t=e.trim(),n=t.toLowerCase();return n.startsWith("http://")||n.startsWith("https://")||t.startsWith("/")||t.startsWith("./")||t.startsWith("../")||t.startsWith("#")?t:""}function b(e){if(!e)return"";let t=e;return t=t.replace(/url\s*\([^)]*\)/gi,""),t=t.replace(/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\([^)]*\)/gi,""),t=t.replace(/behavior\s*:[^;]*(;|$)/gi,""),t=t.replace(/-moz-binding\s*:[^;]*(;|$)/gi,""),t=t.replace(/javascript\s*:/gi,""),t}function m(e){const t=Object.assign(Object.assign({},e),{cookieName:"cookie_consent",days:r,autoAcceptDelay:c});if(void 0!==e.cookieName){if(!e.cookieName||0===e.cookieName.length)throw new Error("Cookie name cannot be empty");if(!s.test(e.cookieName))throw new Error("Cookie name contains invalid characters. Use only letters, numbers, underscores, and hyphens.");if(e.cookieName.length>100)throw new Error("Cookie name too long (max 100 characters)");t.cookieName=e.cookieName}if(void 0!==e.days){const n=parseInt(String(e.days),10);!isNaN(n)&&n>0&&(t.days=Math.min(n,o))}if(void 0!==e.autoAcceptDelay){const n=parseInt(String(e.autoAcceptDelay),10);!isNaN(n)&&n>=0&&(t.autoAcceptDelay=Math.min(n,i))}return void 0!==e.container&&(e.container instanceof HTMLElement||(t.container=void 0)),void 0!==e.cookieDomain&&(a.test(e.cookieDomain)?t.cookieDomain=e.cookieDomain:t.cookieDomain=void 0),t}function k(){if(!l)return!1;const e=Math.floor(-(new Date).getTimezoneOffset()/60);for(let t=0;t<n.length;t++)if(n[t]===e)return!0;return!1}function g(e="cookie_consent"){if(!l)return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const n=document.cookie.match(new RegExp(`(^|;)\\s*${t}=([^;]*)`));return n?n[2]:null}function h(e,t="cookie_consent",n=r,i){if(!l)return;if(!s.test(t))throw new Error("Invalid cookie name");const c=new Date;c.setDate(c.getDate()+Math.min(n,o));let d=`${t}=${e};expires=${c.toUTCString()};path=/;SameSite=Lax`;i&&a.test(i)&&(d+=`;Domain=${i}`),"undefined"!=typeof location&&"https:"===location.protocol&&(d+=";Secure"),document.cookie=d}function y(e="cookie_consent",t){if(!l)return;let n=`${e}=;expires=Thu,01 Jan 1970 00:00:00 GMT;path=/;SameSite=Lax`;t&&a.test(t)&&(n+=`;Domain=${t}`),"undefined"!=typeof location&&"https:"===location.protocol&&(n+=";Secure"),document.cookie=n}function v(e,t){if(!e)return null;if("1"===e||"0"===e){const n="1"===e;if(!t||0===t.length)return{all:n};const o={};for(const e of t)o[e.id]=!!e.required||n;return o}const n={},o=e.split(",");for(const e of o){const[t,o]=e.split(":");t&&void 0!==o&&(n[t]="1"===o)}return n}function x(e){const t=[],n=Object.keys(e);for(let o=0;o<n.length;o++){const i=n[o],r=e[i];t.push(`${i}:${r?"1":"0"}`)}return t.join(",")}function w(e){if(!l)return e;const t=document.createElement("div");return t.textContent=e,t.innerHTML}l&&"undefined"!=typeof customElements&&!customElements.get(d)&&customElements.define(d,u);let E=null;function C(e={}){var n;if(!l)return{status:null,getConsent:()=>null,getConsentRecord:()=>null,hasConsent:()=>!1,accept:()=>{},reject:()=>{},show:()=>{},manage:()=>{},hide:()=>{},destroy:()=>{},isVisible:()=>!1,showWidget:()=>{},hideWidget:()=>{}};if(!e.allowMultiple&&E)return E;const o=m(e),i=o.cookieName,r=o.days,c=o.cookieDomain,s=void 0!==e.forceEU?e.forceEU:k(),a=o.container||document.body,u="gdpr"===e.mode,C=e.categories||(u?t.DEFAULT_CATEGORIES:[]),S=C.length>0;let A=null,L=null,$=null,T=null,D="banner",_=null;const j=`ckb-style-${Math.random().toString(36).slice(2,8)||"default"}`,q=`ckb-widget-${Math.random().toString(36).slice(2,8)||"default"}`,M=g(i);if(null!==M)if($=v(M,C),"1"===M)L=!0;else if("0"===M)L=!1;else if($){L=!1;const e=Object.keys($);for(let t=0;t<e.length;t++){const n=e[t];if($[n]){let e=!1;for(let t=0;t<C.length;t++)if(C[t].id===n&&C[t].required){e=!0;break}if(!e){L=!0;break}}}}else L=null;function z(t){var n;if(T=(new Date).toISOString(),S){const e={};for(let n=0;n<C.length;n++){const o=C[n];e[o.id]=!!o.required||t}$=e,h(x(e),i,r,c)}else h(t?"1":"0",i,r,c);L=t,A&&(A._cleanup&&A._cleanup(),A.remove(),A=null),(null===(n=e.widget)||void 0===n?void 0:n.enabled)&&I(),_&&_ instanceof HTMLElement&&_.focus();const o=t?e.onAccept||e.onYes:e.onReject||e.onNo;if("function"==typeof o)try{o()}catch(e){console.error("Cookie banner callback error:",e)}if(S&&"function"==typeof e.onConsent)try{const t={state:$,timestamp:T,policyVersion:e.policyVersion,method:D};e.onConsent($,t)}catch(e){console.error("Cookie banner onConsent callback error:",e)}}function O(n=!1){const l=document.querySelector(d);l&&l.remove();const u=document.createElement(d);u.id="ckb";const m=u.shadowRoot,k=e.css?p(e.css):"",g=document.createElement("style");e.cspNonce&&g.setAttribute("nonce",e.cspNonce),g.textContent=t.DEFAULT_CSS+k,m.appendChild(g);const y=document.createElement("div");y.id="ckb",y.setAttribute("role","dialog"),y.setAttribute("aria-label",e.bannerAriaLabel||"Cookie consent"),y.setAttribute("aria-modal","true"),y.setAttribute("tabindex","-1"),e.dir&&y.setAttribute("dir",e.dir),e.style&&(y.style.cssText=b(e.style));const v=`ckb-msg-${Math.random().toString(36).slice(2,8)}`;y.setAttribute("aria-describedby",v);const E=w(e.msg||"Cookies help us deliver our services."),j=w(e.acceptText||"Accept All"),q=w(e.rejectText||"Reject All"),M=w(e.settingsText||"Customize"),O=w(e.saveText||"Save Preferences"),N=w(e.privacyPolicyText||"Privacy Policy"),W=f(e.privacyPolicyUrl||"");let U=`<p id="${v}">${E}${W?` <a href="${w(W)}" target="_blank" rel="noopener">${N}</a>`:""}</p>`;if(S){const t=C;let n='<div id="ckb-cats">';for(let o=0;o<t.length;o++){const i=t[o],r=!0===i.required,c=($?!0===$[i.id]:r||!0===i.defaultEnabled)?" checked":"",s=r?" disabled":"",a=w(e.requiredLabel||"(Required)"),l=r?`<span class="cat-req">${a}</span>`:"",d=i.description?`<div class="cat-desc">${w(i.description)}</div>`:"";n+=`<label>\n          <input type="checkbox" name="ckb-cat" value="${w(i.id)}"${c}${s}>\n          <div class="cat-info">\n            <div class="cat-name">${w(i.name)} ${l}</div>\n            ${d}\n          </div>\n        </label>`}n+="</div>",U+=n,U+=`<button type="button" id="cks">${M}</button>`,U+=`<button type="button" id="cksv" style="display:none">${O}</button>`,U+=s?`<button type="button" id="ckn">${q}</button>`:"",U+=`<button type="button" id="cky">${j}</button>`}else{const t=w(e.rejectText||"âœ—");U+=s?`<button type="button" id="ckn">${t}</button>`:"",U+=`<button type="button" id="cky">${w(e.acceptText||"OK")}</button>`}if(y.innerHTML=U,n&&S){y.classList.add("expanded");const e=m.querySelector("#cksv"),t=m.querySelector("#cks");e&&(e.style.display=""),t&&(t.style.display="none")}m.appendChild(y),a.appendChild(u),_=document.activeElement,y.focus();const R=m.querySelector("#cky"),B=m.querySelector("#ckn"),F=m.querySelector("#cks"),H=m.querySelector("#cksv"),V=()=>z(!0),G=()=>z(!1),P=()=>{y.classList.toggle("expanded");const e=y.classList.contains("expanded");H&&(H.style.display=e?"":"none"),F&&(F.style.display=e?"none":"")},Z=()=>{const n={},o=C.length>0?C:t.DEFAULT_CATEGORIES,s=m.querySelectorAll('input[name="ckb-cat"]');for(let e=0;e<s.length;e++){const t=s[e];n[t.value]=t.checked}for(let e=0;e<o.length;e++)o[e].required&&(n[o[e].id]=!0);!function(t){var n;T=(new Date).toISOString(),$=t,h(x(t),i,r,c);let o=!1;const s=Object.keys(t);for(let e=0;e<s.length;e++){const n=s[e];if(t[n]){let e=!1;for(let t=0;t<C.length;t++)if(C[t].id===n&&C[t].required){e=!0;break}if(!e){o=!0;break}}}if(L=o,A&&(A._cleanup&&A._cleanup(),A.remove(),A=null),(null===(n=e.widget)||void 0===n?void 0:n.enabled)&&I(),_&&_ instanceof HTMLElement&&_.focus(),"function"==typeof e.onConsent)try{const n={state:t,timestamp:T,policyVersion:e.policyVersion,method:D};e.onConsent(t,n)}catch(e){console.error("Cookie banner onConsent callback error:",e)}}(n)};R&&R.addEventListener("click",V),B&&B.addEventListener("click",G),F&&F.addEventListener("click",P),H&&H.addEventListener("click",Z);const K=e=>{if("Escape"===e.key)z(!s);else if("Tab"===e.key){const t=m.querySelectorAll('button:not([style*="display: none"]):not([style*="display:none"]), input, a'),n=t[0],o=t[t.length-1],i=m.activeElement||document.activeElement;n&&o&&(e.shiftKey&&i===n?(e.preventDefault(),o.focus()):e.shiftKey||i!==o||(e.preventDefault(),n.focus()))}};document.addEventListener("keydown",K);let J=null,Y=null;if(!s&&!S){const t=o.autoAcceptDelay,n=()=>{z(!0)};t>0&&(J=setTimeout(n,t)),e.autoAcceptOnScroll&&(Y=()=>{J&&clearTimeout(J),n()},document.addEventListener("scroll",Y,{once:!0}))}return u._cleanup=()=>{document.removeEventListener("keydown",K),Y&&document.removeEventListener("scroll",Y),J&&clearTimeout(J),R&&R.removeEventListener("click",V),B&&B.removeEventListener("click",G),F&&F.removeEventListener("click",P),H&&H.removeEventListener("click",Z)},u}function I(){if(document.getElementById(q))return;const t=e.widget||{},n=t.position||"bottom-left",o=t.text||"ðŸª",i=t.ariaLabel||"Manage cookie preferences",r=document.createElement("button");r.id=q,r.type="button",r.setAttribute("aria-label",i),r.textContent=o;const c="bottom-right"===n?"right:16px;left:auto;":"left:16px;right:auto;";r.style.cssText=`\n      position:fixed;\n      bottom:16px;\n      ${c}\n      width:48px;\n      height:48px;\n      border-radius:50%;\n      border:none;\n      background:var(--ckb-btn-bg,#222);\n      color:var(--ckb-btn-color,#fff);\n      font-size:20px;\n      cursor:pointer;\n      z-index:var(--ckb-z,9998);\n      box-shadow:0 2px 8px rgba(0,0,0,0.2);\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      transition:transform 0.2s ease;\n    `.replace(/\s+/g,""),r.addEventListener("mouseenter",()=>{r.style.transform="scale(1.1)"}),r.addEventListener("mouseleave",()=>{r.style.transform="scale(1)"}),r.addEventListener("click",()=>{D="widget",N.manage()}),a.appendChild(r)}const N={get status(){return L},getConsent:()=>$,hasConsent:e=>!!$&&!0===$[e],accept(){z(!0)},reject(){z(!1)},show(){A||null!==L||(A=O())},manage(){A&&(A._cleanup&&A._cleanup(),A.remove(),A=null),A=O(!0)},hide(){A&&(A._cleanup&&A._cleanup(),A.remove(),A=null,_&&_ instanceof HTMLElement&&_.focus())},destroy(e=!1){this.hide(),this.hideWidget();const t=document.getElementById(j);t&&t.remove(),e&&(y(i,c),L=null,$=null),E===N&&(E=null)},isVisible:()=>null!==A,getConsentRecord:()=>$?{state:$,timestamp:T||(new Date).toISOString(),policyVersion:e.policyVersion,method:D||"banner"}:null,showWidget(){I()},hideWidget(){const e=document.getElementById(q);e&&e.remove()}};return(null===(n=e.widget)||void 0===n?void 0:n.enabled)&&null!==L&&I(),e.allowMultiple||(E=N),N}function S(){if(!l)return null;const e=C(window.CookieBannerConfig||{});null===e.status&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>e.show()):e.show());const t={get ok(){return e.status},yes(){e.accept()},no(){e.reject()},reset(){e.destroy(!0),"undefined"!=typeof location&&location.reload()},destroy(){e.destroy()}};return window.CookieBanner=t,t}let A=!1;l&&(void 0!==window.CookieBannerConfig||document.currentScript&&"module"!==document.currentScript.getAttribute("type"))&&(A||(A=!0,S()))});