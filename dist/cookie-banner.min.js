var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},__assign.apply(this,arguments)};!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CSS=t.DEFAULT_CATEGORIES=void 0,t.sanitizeCss=u,t.sanitizeInlineStyle=d,t.validateConfig=f,t.isEU=p,t.getConsent=v,t.setConsent=b,t.deleteConsent=k,t.parseGranularConsent=m,t.encodeGranularConsent=y,t.createCookieBanner=h,t.initLegacy=x,t.DEFAULT_CATEGORIES=[{id:"essential",name:"Essential",description:"Required for the website to function",required:!0},{id:"analytics",name:"Analytics",description:"Help us understand how visitors use our site"},{id:"marketing",name:"Marketing",description:"Used to deliver relevant ads"},{id:"functional",name:"Functional",description:"Enable enhanced features and personalization"}];var n=[-1,0,1,2,3],o=3650,r=3e5,i=365,c=5e3,a=/^[a-zA-Z0-9_-]+$/,s=/^\.?[a-zA-Z0-9][a-zA-Z0-9-]*(\.[a-zA-Z0-9][a-zA-Z0-9-]*)*$/;t.DEFAULT_CSS="#ckb{position:var(--ckb-position,fixed);bottom:var(--ckb-bottom,0);top:var(--ckb-top,auto);left:var(--ckb-left,0);right:var(--ckb-right,0);padding:var(--ckb-padding,12px 16px);background:var(--ckb-bg,#222);color:var(--ckb-color,#fff);font:var(--ckb-font,14px/1.4 system-ui,sans-serif);display:flex;align-items:center;gap:var(--ckb-gap,12px);z-index:var(--ckb-z,9999);flex-wrap:wrap}#ckb:focus{outline:2px solid var(--ckb-focus-color,#4299e1);outline-offset:2px}#ckb p{margin:0;flex:1;min-width:200px}#ckb a{color:inherit}#ckb button{min-height:44px;min-width:44px;padding:var(--ckb-btn-padding,10px 20px);border:var(--ckb-btn-border,none);border-radius:var(--ckb-btn-radius,4px);background:var(--ckb-btn-bg,#fff);color:var(--ckb-btn-color,#222);font:inherit;cursor:pointer;touch-action:manipulation}#ckb button:focus{outline:2px solid var(--ckb-focus-color,#4299e1);outline-offset:2px}#ckb button:hover{opacity:0.9}#ckb #ckn{background:var(--ckb-reject-bg,transparent);color:var(--ckb-reject-color,inherit);border:var(--ckb-reject-border,1px solid currentColor)}#ckb #cks{background:var(--ckb-settings-bg,transparent);color:var(--ckb-settings-color,inherit);border:var(--ckb-settings-border,1px solid currentColor)}#ckb-cats{display:none;width:100%;padding:12px 0;border-top:1px solid rgba(255,255,255,0.2);margin-top:8px}#ckb.expanded #ckb-cats{display:block}#ckb-cats label{display:flex;align-items:flex-start;gap:10px;padding:8px 0;cursor:pointer}#ckb-cats input[type=checkbox]{width:20px;height:20px;margin:2px 0;accent-color:var(--ckb-btn-bg,#fff)}#ckb-cats .cat-info{flex:1}#ckb-cats .cat-name{font-weight:600}#ckb-cats .cat-desc{font-size:12px;opacity:0.8;margin-top:2px}#ckb-cats .cat-req{opacity:0.6;font-size:11px}@media(prefers-reduced-motion:reduce){#ckb,#ckb *{transition:none!important;animation:none!important}}";var l="undefined"!=typeof window&&"undefined"!=typeof document;function u(e){if(!e)return"";var t=e;return t=(t=(t=(t=(t=(t=(t=t.replace(/<[^>]*>/g,"")).replace(/@\s*i\s*m\s*p\s*o\s*r\s*t\b[^;]*(;|$)/gi,"")).replace(/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\([^)]*\)/gi,"")).replace(/behavior\s*:[^;]*(;|$)/gi,"")).replace(/-moz-binding\s*:[^;]*(;|$)/gi,"")).replace(/url\s*\(\s*(['"]?)([^'")\s]+)\1\s*\)/gi,function(e,t,n){return n.trim().toLowerCase().startsWith("data:image/")?e:""})).replace(/javascript\s*:/gi,"")}function d(e){if(!e)return"";var t=e;return t=(t=(t=(t=(t=t.replace(/url\s*\([^)]*\)/gi,"")).replace(/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\([^)]*\)/gi,"")).replace(/behavior\s*:[^;]*(;|$)/gi,"")).replace(/-moz-binding\s*:[^;]*(;|$)/gi,"")).replace(/javascript\s*:/gi,"")}function f(e){var t=__assign(__assign({},e),{cookieName:"ck",days:i,autoAcceptDelay:c});if(void 0!==e.cookieName){if(!e.cookieName||0===e.cookieName.length)throw new Error("Cookie name cannot be empty");if(!a.test(e.cookieName))throw new Error("Cookie name contains invalid characters. Use only letters, numbers, underscores, and hyphens.");if(e.cookieName.length>100)throw new Error("Cookie name too long (max 100 characters)");t.cookieName=e.cookieName}if(void 0!==e.days){var n=parseInt(String(e.days),10);!isNaN(n)&&n>0&&(t.days=Math.min(n,o))}if(void 0!==e.autoAcceptDelay){var l=parseInt(String(e.autoAcceptDelay),10);!isNaN(l)&&l>=0&&(t.autoAcceptDelay=Math.min(l,r))}return void 0!==e.container&&(e.container instanceof HTMLElement||(t.container=void 0)),void 0!==e.cookieDomain&&(s.test(e.cookieDomain)?t.cookieDomain=e.cookieDomain:t.cookieDomain=void 0),t}function p(){if(!l)return!1;for(var e=Math.floor(-(new Date).getTimezoneOffset()/60),t=0;t<n.length;t++)if(n[t]===e)return!0;return!1}function v(e){if(void 0===e&&(e="ck"),!l)return null;var t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp("(^|;)\\s*"+t+"=([^;]*)"));return n?n[2]:null}function b(e,t,n,r){if(void 0===t&&(t="ck"),void 0===n&&(n=i),l){if(!a.test(t))throw new Error("Invalid cookie name");var c=new Date;c.setDate(c.getDate()+Math.min(n,o));var u="".concat(t,"=").concat(e,";expires=").concat(c.toUTCString(),";path=/;SameSite=Lax");r&&s.test(r)&&(u+=";Domain=".concat(r)),"undefined"!=typeof location&&"https:"===location.protocol&&(u+=";Secure"),document.cookie=u}}function k(e,t){if(void 0===e&&(e="ck"),l){var n="".concat(e,"=;expires=Thu,01 Jan 1970 00:00:00 GMT;path=/;SameSite=Lax");t&&s.test(t)&&(n+=";Domain=".concat(t)),"undefined"!=typeof location&&"https:"===location.protocol&&(n+=";Secure"),document.cookie=n}}function m(e,t){if(!e)return null;if("1"===e||"0"===e){var n="1"===e;if(!t||0===t.length)return{all:n};for(var o={},r=0,i=t;r<i.length;r++){var c=i[r];o[c.id]=!!c.required||n}return o}for(var a={},s=0,l=e.split(",");s<l.length;s++){var u=l[s].split(":"),d=u[0],f=u[1];d&&void 0!==f&&(a[d]="1"===f)}return a}function y(e){for(var t=[],n=Object.keys(e),o=0;o<n.length;o++){var r=n[o],i=e[r];t.push(r+":"+(i?"1":"0"))}return t.join(",")}function g(e){if(!l)return e;var t=document.createElement("div");return t.textContent=e,t.innerHTML}function h(e){if(void 0===e&&(e={}),!l)return{status:null,getConsent:function(){return null},hasConsent:function(){return!1},accept:function(){},reject:function(){},show:function(){},manage:function(){},hide:function(){},destroy:function(){},isVisible:function(){return!1}};var n=f(e),o=n.cookieName,r=n.days,i=n.cookieDomain,c=void 0!==e.forceEU?e.forceEU:p(),a=n.container||document.body,s="gdpr"===e.mode,h=e.categories||(s?t.DEFAULT_CATEGORIES:[]),x=h.length>0,E=null,C=null,w=null,A=null,L="ckb-style-".concat(Math.random().toString(36).slice(2,8)||"default"),S=v(o);if(null!==S)if(w=m(S,h),"1"===S)C=!0;else if("0"===S)C=!1;else if(w){C=!1;for(var T=Object.keys(w),_=0;_<T.length;_++){var D=T[_];if(w[D]){for(var j=!1,q=0;q<h.length;q++)if(h[q].id===D&&h[q].required){j=!0;break}if(!j){C=!0;break}}}}else C=null;function z(t){if(x){for(var n={},c=0;c<h.length;c++){var a=h[c];n[a.id]=!!a.required||t}w=n,b(y(n),o,r,i)}else b(t?"1":"0",o,r,i);C=t,E&&(E._cleanup&&E._cleanup(),E.remove(),E=null),A&&A instanceof HTMLElement&&A.focus();var s=t?e.onAccept||e.onYes:e.onReject||e.onNo;if("function"==typeof s)try{s()}catch(e){console.error("Cookie banner callback error:",e)}if(x&&"function"==typeof e.onConsent)try{e.onConsent(w)}catch(e){console.error("Cookie banner onConsent callback error:",e)}}function M(s){void 0===s&&(s=!1);var f=e.css?u(e.css):"";!function(e,t,n){if(l&&!document.getElementById(e)){var o=document.createElement("style");o.id=e,n&&o.setAttribute("nonce",n),o.textContent=t,document.head.appendChild(o)}}(L,t.DEFAULT_CSS+f,e.cspNonce);var p=document.createElement("div");p.id="ckb",p.setAttribute("role","dialog"),p.setAttribute("aria-label","Cookie consent"),p.setAttribute("aria-modal","true"),p.setAttribute("tabindex","-1"),e.style&&(p.style.cssText=d(e.style));var v="ckb-msg-".concat(Math.random().toString(36).slice(2,8));p.setAttribute("aria-describedby",v);var k=g(e.msg||"Cookies help us deliver our services."),m=g(e.acceptText||"Accept All"),S=g(e.rejectText||"Reject All"),T=g(e.settingsText||"Customize"),_=g(e.saveText||"Save Preferences"),D=g(e.privacyPolicyText||"Privacy Policy"),j=e.privacyPolicyUrl?' <a href="'.concat(g(e.privacyPolicyUrl),'" target="_blank" rel="noopener">').concat(D,"</a>"):"",q='<p id="'.concat(v,'">').concat(k).concat(j,"</p>");if(x){for(var M=h,N='<div id="ckb-cats">',U=0;U<M.length;U++){var O=M[U],I=!0===O.required,R=(w?!0===w[O.id]:I||!0===O.defaultEnabled)?" checked":"",$=I?" disabled":"",F=I?'<span class="cat-req">(Required)</span>':"",P=O.description?'<div class="cat-desc">'+g(O.description)+"</div>":"";N+='<label><input type="checkbox" name="ckb-cat" value="'+g(O.id)+'"'+R+$+'><div class="cat-info"><div class="cat-name">'+g(O.name)+" "+F+"</div>"+P+"</div></label>"}q+=N+="</div>",q+='<button type="button" id="cks">'.concat(T,"</button>"),q+='<button type="button" id="cksv" style="display:none">'.concat(_,"</button>"),q+=c?'<button type="button" id="ckn">'.concat(S,"</button>"):"",q+='<button type="button" id="cky">'.concat(m,"</button>")}else{var G=g(e.rejectText||"âœ—");q+=c?'<button type="button" id="ckn">'.concat(G,"</button>"):"",q+='<button type="button" id="cky">'.concat(g(e.acceptText||"OK"),"</button>")}if(p.innerHTML=q,s&&x){p.classList.add("expanded");var H=p.querySelector("#cksv"),B=p.querySelector("#cks");H&&(H.style.display=""),B&&(B.style.display="none")}a.appendChild(p),A=document.activeElement,p.focus();var Z=p.querySelector("#cky"),K=p.querySelector("#ckn"),V=p.querySelector("#cks"),J=p.querySelector("#cksv"),W=function(){return z(!0)},Y=function(){return z(!1)},Q=function(){p.classList.toggle("expanded");var e=p.classList.contains("expanded");J&&(J.style.display=e?"":"none"),V&&(V.style.display=e?"none":"")},X=function(){for(var n={},c=h.length>0?h:t.DEFAULT_CATEGORIES,a=p.querySelectorAll('input[name="ckb-cat"]'),s=0;s<a.length;s++){var l=a[s];n[l.value]=l.checked}for(s=0;s<c.length;s++)c[s].required&&(n[c[s].id]=!0);!function(t){w=t,b(y(t),o,r,i);for(var n=!1,c=Object.keys(t),a=0;a<c.length;a++){var s=c[a];if(t[s]){for(var l=!1,u=0;u<h.length;u++)if(h[u].id===s&&h[u].required){l=!0;break}if(!l){n=!0;break}}}if(C=n,E&&(E._cleanup&&E._cleanup(),E.remove(),E=null),A&&A instanceof HTMLElement&&A.focus(),"function"==typeof e.onConsent)try{e.onConsent(t)}catch(e){console.error("Cookie banner onConsent callback error:",e)}}(n)};Z&&Z.addEventListener("click",W),K&&K.addEventListener("click",Y),V&&V.addEventListener("click",Q),J&&J.addEventListener("click",X);var ee=function(e){if("Escape"===e.key)z(!c);else if("Tab"===e.key){var t=p.querySelectorAll('button:not([style*="display: none"]):not([style*="display:none"]), input, a'),n=t[0],o=t[t.length-1];n&&o&&(e.shiftKey&&document.activeElement===n?(e.preventDefault(),o.focus()):e.shiftKey||document.activeElement!==o||(e.preventDefault(),n.focus()))}};document.addEventListener("keydown",ee);var te=null,ne=null;if(!c&&!x){var oe=n.autoAcceptDelay,re=function(){z(!0)};oe>0&&(te=setTimeout(re,oe)),ne=function(){te&&clearTimeout(te),re()},document.addEventListener("scroll",ne,{once:!0})}return p._cleanup=function(){document.removeEventListener("keydown",ee),ne&&document.removeEventListener("scroll",ne),te&&clearTimeout(te),Z&&Z.removeEventListener("click",W),K&&K.removeEventListener("click",Y),V&&V.removeEventListener("click",Q),J&&J.removeEventListener("click",X)},p}return{get status(){return C},getConsent:function(){return w},hasConsent:function(e){return!!w&&!0===w[e]},accept:function(){z(!0)},reject:function(){z(!1)},show:function(){E||null!==C||(E=M())},manage:function(){E&&(E._cleanup&&E._cleanup(),E.remove(),E=null),E=M(!0)},hide:function(){E&&(E._cleanup&&E._cleanup(),E.remove(),E=null,A&&A instanceof HTMLElement&&A.focus())},destroy:function(e){void 0===e&&(e=!1),this.hide();var t=document.getElementById(L);t&&t.remove(),e&&(k(o,i),C=null,w=null)},isVisible:function(){return null!==E}}}function x(){if(!l)return null;var e=h(window.CookieBannerConfig||{});null===e.status&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){return e.show()}):e.show());var t={get ok(){return e.status},yes:function(){e.accept()},no:function(){e.reject()},reset:function(){e.destroy(!0),"undefined"!=typeof location&&location.reload()},destroy:function(){e.destroy()}};return window.CookieBanner=t,t}var E=!1;l&&(void 0!==window.CookieBannerConfig||document.currentScript&&!document.currentScript.hasAttribute("type"))&&(E||(E=!0,x()))});